"use strict";(self.webpackChunkclothsstore=self.webpackChunkclothsstore||[]).push([[207],{9207:function(t,n,e){e.r(n),e.d(n,{default:function(){return A}});var r=e(7313),s=e(5861),c=e(7757),i=e.n(c),a=e(2135),o=e(1684),u=e(2178),d=u.M.UPDATE_PRODUCT_COUNTER,l=u.M.SET_CHECKOUT,h=u.M.INCREMENT,p=u.M.DECREMENT,f=u.M.SET_PRODUCTS;function m(t){return{type:d,payload:{id:t,updateType:h}}}function v(t){return{type:d,payload:{id:t,updateType:p}}}function x(t){return{type:f,payload:t}}var j=e(6417);function _(t){var n=t.item,e=n.image,r=n.title,s=n.id,c=n.count,i=(0,o.I0)();return(0,j.jsxs)("div",{className:"product__card",children:[(0,j.jsx)("div",{className:"card",children:(0,j.jsx)(a.rU,{to:{pathname:"/productDetails/".concat(s)},children:(0,j.jsx)("img",{src:e,alt:r})})}),(0,j.jsx)("div",{className:"meal_title",children:(0,j.jsx)("p",{children:r})}),(0,j.jsx)("div",{className:"card_addItem",children:(0,j.jsxs)("div",{children:[(0,j.jsx)("button",{onClick:function(){return function(t){i(v(t))}(s)},disabled:0===c,children:"-"})," ",c," ",(0,j.jsx)("button",{onClick:function(){return function(t){i(m(t))}(s)},children:"+"})]})})]})}var N=e(1881),y=e.n(N);function C(){return b.apply(this,arguments)}function b(){return(b=(0,s.Z)(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://fakestoreapi.com/products",t.next=3,y().get("https://fakestoreapi.com/products").catch((function(t){return console.log(t)}));case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t){return k.apply(this,arguments)}function k(){return(k=(0,s.Z)(i().mark((function t(n){var e,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="https://fakestoreapi.com/products/".concat(n),t.next=3,y().get(e).catch((function(t){return console.log(t)}));case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t,n){var e=n.find((function(n){return parseInt(n.id)===parseInt(t.id)}));return e?e.count:0}function T(){var t=(0,o.I0)(),n=(0,o.v9)((function(t){return t})),e=n.products,c=n.productCart;(0,r.useEffect)((function(){function n(){return n=(0,s.Z)(i().mark((function n(){var e;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C();case 2:e=n.sent,t(x(e.data));case 4:case"end":return n.stop()}}),n)}))),n.apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[t]);var a=function(t,n){return t.map((function(t,e){return{id:t.id,image:t.image,count:w(t,n),title:t.title}}))}(e,c);return(0,j.jsx)("div",{className:"product__container flex-function",children:(0,j.jsx)("div",{className:"product__subcontainer flex-function",children:a.map((function(t,n){return(0,j.jsx)(_,{item:t,id:n+1},Math.random()*e.length+n)}))})})}var E=e(9439),I=e(8467);function S(){var t,n=(0,o.v9)((function(t){return t})).productCart,e=(0,r.useState)({}),c=(0,E.Z)(e,2),u=c[0],d=c[1],l=(0,I.UO)().productId;(0,r.useEffect)((function(){function t(){return t=(0,s.Z)(i().mark((function t(n){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(n);case 2:e=t.sent,d(e.data);case 4:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}!function(n){t.apply(this,arguments)}(l)}),[l]);var h=(0,r.useState)(!1),p=(0,E.Z)(h,2),f=p[0],v=p[1],x=(0,o.I0)();return(0,r.useState)((function(){var t=n.find((function(t){return parseInt(t.id)===parseInt(l)}));v(!!t)}),[l]),(0,j.jsxs)("div",{className:"product_details",children:[(0,j.jsxs)("div",{className:"left_product_details",children:[(0,j.jsx)("img",{src:null===u||void 0===u?void 0:u.image,alt:null===u||void 0===u?void 0:u.title}),(0,j.jsxs)("div",{className:"card__button",children:[f?(0,j.jsx)(a.rU,{to:"/cart",children:(0,j.jsx)("button",{className:"addToCart_button",children:"Go to Cart"})}):(0,j.jsx)("button",{className:"addToCart_button",onClick:function(){return x(m(l)),void v(!0)},children:"Add To Cart"}),(0,j.jsx)(a.rU,{to:"/cart",children:(0,j.jsx)("button",{onClick:function(){return t=l,void(!f&&x(m(t)));var t},className:"buyNow_button",children:"Buy Now"})})]})]}),(0,j.jsxs)("div",{className:"right_product_details",children:[(0,j.jsxs)("div",{className:"title",children:[null===u||void 0===u?void 0:u.title,":"]}),(0,j.jsxs)("div",{className:"price",children:[(0,j.jsx)("span",{className:"rupee",children:"\u20b9"}),null===u||void 0===u?void 0:u.price]}),(0,j.jsxs)("div",{className:"rating",children:[null===u||void 0===u||null===(t=u.rating)||void 0===t?void 0:t.rate," ",(0,j.jsx)("span",{className:"start_icon",children:"\u2605"})]}),(0,j.jsxs)("div",{className:"description",children:[(0,j.jsx)("h4",{children:"Product Details:"}),(0,j.jsxs)("div",{className:"product__description",children:[" ",null===u||void 0===u?void 0:u.description]})]})]})]})}var U=function(){var t=(0,I.s0)(),n=(0,I.TH)(),e=function(t){var n=0;return t.forEach((function(t){n+=t.count})),n}((0,o.v9)((function(t){return t})).productCart);return(0,j.jsx)("div",{className:"header",children:(0,j.jsxs)("div",{className:"header__subcontainer",children:[(0,j.jsx)("div",{className:"header_icon",children:(0,j.jsx)(a.rU,{to:"/home",children:"Home"})}),(0,j.jsx)("div",{className:"header__cart ".concat("/home/cart"===n.pathname?"active":""),onClick:function(){"/home/cart"!==n.pathname&&t("/home/cart")},role:"button",title:"Cart (".concat(e," items)"),children:(0,j.jsxs)("div",{className:"cart-icon",children:["\ud83d\uded2",e>0&&(0,j.jsx)("span",{className:"product__count",children:e})]})})]})})};var Z=function(){return(0,j.jsxs)("div",{className:"footer",children:["Made with \xa0 ",(0,j.jsx)("span",{className:"footer__heart",children:"\u2764"})," \xa0 by Suresh"]})};var M=function(t){var n=t.productId,e=t.count,c=(0,o.I0)(),a=(0,r.useState)({}),u=(0,E.Z)(a,2),d=u[0],l=u[1];return(0,r.useEffect)((function(){function t(){return t=(0,s.Z)(i().mark((function t(n){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(n);case 2:e=t.sent,l(e.data);case 4:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}!function(n){t.apply(this,arguments)}(n)}),[n]),(0,j.jsxs)("div",{className:"item__details",children:[(0,j.jsxs)("div",{className:"item__left",children:[(0,j.jsx)("div",{className:"item_left__img",children:(0,j.jsx)("img",{src:null===d||void 0===d?void 0:d.image,alt:null===d||void 0===d?void 0:d.title})}),(0,j.jsxs)("div",{className:"item__button",children:[(0,j.jsx)("button",{onClick:function(){c(v(n))},children:"-"}),e,(0,j.jsx)("button",{onClick:function(){c(m(n))},children:"+"})]})]}),(0,j.jsxs)("div",{className:"item__right",children:[(0,j.jsx)("p",{children:null===d||void 0===d?void 0:d.title}),(0,j.jsxs)("p",{children:["\u20b9",null===d||void 0===d?void 0:d.price]})]})]})};var D=function(){var t=(0,o.v9)((function(t){return t})),n=t.productCart,e=t.products,c=(0,o.I0)();(0,r.useEffect)((function(){function t(){return t=(0,s.Z)(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C();case 2:n=t.sent,c(x(n.data));case 4:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[c]);var a=function(t,n){var e=0;return t.forEach((function(t){var r;return e+=t.count*(null===(r=n[t.id-1])||void 0===r?void 0:r.price)})),e.toFixed(2)}(n,e),u=function(t){return(.1*t).toFixed(2)}(a),d=(a-u).toFixed(2);return(0,j.jsxs)("div",{className:"user__cart",children:[(0,j.jsxs)("div",{className:"left__Cart",children:[(0,j.jsx)("h2",{className:"cart__title",children:"Shopping Cart"}),n.length>0?n.map((function(t,n){return(0,j.jsx)(M,{count:t.count,productId:t.id},n)})):(0,j.jsxs)("div",{className:"empty__cart",children:[(0,j.jsx)("h3",{children:"Your cart is empty"}),(0,j.jsx)("p",{children:"Add some items to your cart to see them here"})]})]}),(0,j.jsxs)("div",{className:"right__Cart",children:[(0,j.jsx)("h3",{children:"Order Summary"}),(0,j.jsxs)("div",{className:"cart__summary",children:[(0,j.jsxs)("div",{className:"summary__row",children:[(0,j.jsx)("span",{children:"Subtotal"}),(0,j.jsxs)("span",{children:["\u20b9 ",a]})]}),(0,j.jsxs)("div",{className:"summary__row",children:[(0,j.jsx)("span",{children:"Discount (10%)"}),(0,j.jsxs)("span",{children:["- \u20b9 ",u]})]}),(0,j.jsxs)("div",{className:"summary__row total",children:[(0,j.jsx)("span",{children:"Total"}),(0,j.jsxs)("span",{children:["\u20b9 ",d]})]})]}),(0,j.jsx)("button",{className:"checkout__button",onClick:function(){0!==n.length?(c((console.log("This function have called"),{type:l})),alert("Thank you for your purchase!")):alert("Your cart is empty!")},disabled:0===n.length,children:0===n.length?"Cart is Empty":"Proceed to Checkout"})]})]})};var A=function(){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(U,{}),(0,j.jsxs)(I.Z5,{children:[(0,j.jsx)(I.AW,{path:"productDetails/:productId",element:(0,j.jsx)(S,{})}),(0,j.jsx)(I.AW,{path:"cart",element:(0,j.jsx)(D,{})}),(0,j.jsx)(I.AW,{path:"/",element:(0,j.jsx)(T,{})}),(0,j.jsx)(I.AW,{path:"*",element:(0,j.jsx)("div",{children:"404 Not Found!"})})]}),(0,j.jsx)(Z,{})]})}}}]);